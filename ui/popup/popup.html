<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Smart Tab Organizer</title>
    <link rel="stylesheet" href="../../ui/styles/popup.css" />
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <div class="header">
        <div class="header-content">
          <h1 class="title">Smart Tab Organizer</h1>
          <span class="tab-count" id="tabCount">0</span>
        </div>
        <div class="header-actions">
          <button
            id="refreshBtn"
            class="btn btn-icon"
            title="Refresh Tabs"
            aria-label="Refresh tabs"
          >
            <svg
              width="14"
              height="14"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8" />
              <path d="M3 3v5h5" />
              <path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16" />
              <path d="M16 16h5v5" />
            </svg>
          </button>
          <button
            id="settingsBtn"
            class="btn btn-icon"
            title="Settings"
            aria-label="Open settings"
          >
            <svg
              width="14"
              height="14"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <circle cx="12" cy="12" r="3" />
              <path
                d="M12 1v6m0 10v6m11-7h-6M7 12H1m17.657-5.657l-4.243 4.243M9.172 14.828L4.929 19.07m12.728 0l-4.243-4.243M9.172 9.172L4.929 4.929"
              />
            </svg>
          </button>
        </div>
      </div>

      <!-- Search -->
      <div class="search-container">
        <svg
          class="search-icon"
          width="14"
          height="14"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <circle cx="11" cy="11" r="8" />
          <line x1="21" y1="21" x2="16.65" y2="16.65" />
        </svg>
        <input
          type="text"
          id="searchInput"
          class="search-input"
          placeholder="Search tabs..."
          aria-label="Search tabs"
        />
        <button
          class="search-clear"
          id="searchClear"
          title="Clear search"
          aria-label="Clear search"
          style="display: none"
        >
          <svg
            width="12"
            height="12"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <line x1="18" y1="6" x2="6" y2="18" />
            <line x1="6" y1="6" x2="18" y2="18" />
          </svg>
        </button>
      </div>

      <!-- Content -->
      <div
        id="categoriesContainer"
        class="categories-container"
        role="main"
        aria-label="Tab categories"
      ></div>

      <!-- Loading State -->
      <div
        id="loadingState"
        class="loading-state"
        role="status"
        aria-live="polite"
      >
        <div class="spinner" aria-hidden="true"></div>
        <h3>Loading tabs...</h3>
        <p>Please wait while we organize your tabs.</p>
      </div>

      <!-- Empty State -->
      <div
        id="emptyState"
        class="empty-state"
        style="display: none"
        role="status"
      >
        <span class="empty-icon" aria-hidden="true">üìÇ</span>
        <h3>No Tabs Found</h3>
        <p>Open some tabs to get started!</p>
        <button id="newTabBtn" class="btn btn-primary">Open New Tab</button>
      </div>

      <!-- Error State -->
      <div
        id="errorState"
        class="error-state"
        style="display: none"
        role="alert"
      >
        <span class="error-icon" aria-hidden="true">‚ö†Ô∏è</span>
        <h3>Something Went Wrong</h3>
        <p id="errorMessage">An error occurred while loading tabs.</p>
        <button id="retryBtn" class="btn btn-primary">Try Again</button>
      </div>

      <!-- Settings Panel -->
      <div
        id="settingsPanel"
        class="settings-panel"
        style="display: none"
        role="dialog"
        aria-labelledby="settingsTitle"
        aria-modal="true"
      >
        <div class="settings-header">
          <h2 id="settingsTitle">Settings</h2>
          <button
            id="closeSettingsBtn"
            class="btn btn-icon"
            title="Close Settings"
            aria-label="Close settings"
          >
            <svg
              width="14"
              height="14"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <line x1="18" y1="6" x2="6" y2="18" />
              <line x1="6" y1="6" x2="18" y2="18" />
            </svg>
          </button>
        </div>
        <div class="settings-content">
          <!-- Settings content will be dynamically generated by SettingsPanel component -->
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script type="module" src="./popup.js"></script>
  </body>
</html>
